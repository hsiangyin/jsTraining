<html>
<head>
	<meta charset="utf-8">
	<title>City Population</title>
</head>
<script>
/*
function getData(){
let name=document.getElementById("name").value;
	// 使用AJAX/XHR發送連線
	let req=new XMLHttpRequest();
	req.open("get", "http://localhost:8080/city.php?name="+name); // 準備連線資訊req.open(連線方法,連線網址);
	// 註冊 load 事件,連線完成後觸發
	req.addEventListener("load", function(){
		//console.log(req.responseText);
		let result=document.getElementById("result");
		result.innerHTML=req.responseText;
	});
	req.send(); //真正送出連線
}
*/
function getData(){
let name=document.getElementById("name").value;
	// 使用AJAX/XHR發送連線
	let req=new XMLHttpRequest();
	req.open("post", "http://localhost:8080/city.php"); // 準備連線資訊
	req.setRequestHeader("Content-type","application/x-www-form-urlencoded");
	req.addEventListener("load", function(){
		let result=document.getElementById("result");
		result.innerHTML=req.responseText;
	});
	req.send("name="+name); //真正送出連線
}
</script>
<body>
	<h3>City Population</h3>
	<div>
		<input type="text" id="name" oninput="getData();" />
		<input type="button" value="Search" onclick="getData();" />
	</div>
	<div id="result"></div>
	<!--
	<form action="http://localhost:8080/city.php">
		<input type="text" name="name" />
		<input type="submit" value="Search" />
	</form>
	--!>
</body>
</html>